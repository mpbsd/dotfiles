#+title: GNU/Emacs Configuration
#+author: Marcelo Bezerra
#+email: bezerra@ufg.br

* Setup a package manager

** Setup both package and use-package

#+begin_src emacs-lisp
(require 'package)
(setq package-archives '(("elpa"  . "https://elpa.gnu.org/packages/")
                         ("melpa" . "https://melpa.org/packages/")
                         ("org"   . "https://orgmode.org/packages/")))
(package-initialize)
(unless package-archive-contents (package-refresh-contents))
(unless (package-installed-p 'use-package) (package-install 'use-package))
(require 'use-package)
(setq use-package-always-ensure t)
#+end_src

* Setup the UX

** Allows for GNU/Emacs to play nicely with tiling window managers

#+begin_src emacs-lisp
(setq frame-resize-pixelwise t)
#+end_src

** Inhibit the startup message

#+begin_src emacs-lisp
(setq inhibit-startup-message t)
#+end_src

** Inhibit bars of various kinds

#+begin_src emacs-lisp
(menu-bar-mode   -1)
(scroll-bar-mode -1)
(tool-bar-mode   -1)
(tooltip-mode    -1)
#+end_src

** Display relative line numbers

#+begin_src emacs-lisp
(setq display-line-numbers-type 'relative)
(global-display-line-numbers-mode +1)
#+end_src

** Setup font faces

#+begin_src emacs-lisp
(defvar +font-size-fixed 128)
(defvar +font-size-variable 128)
(set-face-attribute 'default nil
                    :family "JetBrainsMono Nerd Font Mono"
                    :height +font-size-fixed
                    :weight 'medium)
(set-face-attribute 'fixed-pitch nil
                    :family "JetBrainsMono Nerd Font Mono"
                    :height +font-size-fixed
                    :weight 'medium)
(set-face-attribute 'variable-pitch nil
                    :family "JetBrainsMono Nerd Font Mono"
                    :height +font-size-variable
                    :weight 'medium)
(use-package default-text-scale
             :bind (("C-0" . default-text-scale-reset)
                    ("C--" . default-text-scale-decrease)
                    ("C-=" . default-text-scale-increase)))
#+end_src

** Setup a color scheme

#+begin_src emacs-lisp
(use-package solarized-theme)
(load-theme 'solarized-dark t)
#+end_src

** Setup org-bullets

#+begin_src emacs-lisp
(use-package org-bullets)
(add-hook 'org-mode-hook (lambda () (org-bullets-mode 1)))
#+end_src

* Setup keybindings

** Setup Evil Mode

#+begin_src emacs-lisp
(use-package evil
             :init
             (setq evil-want-integration t)
             (setq evil-want-keybinding nil)
             (setq evil-want-C-u-scroll t)
             (setq evil-want-C-i-jump nil)
             :config
             (evil-mode 1)
             (define-key evil-insert-state-map (kbd "C-g") 'evil-normal-state)
             (define-key evil-insert-state-map (kbd "C-h") 'evil-delete-backward-char-and-join)
             (evil-global-set-key 'motion "j" 'evil-next-visual-line)
             (evil-global-set-key 'motion "k" 'evil-previous-visual-line)
             (evil-set-initial-state 'messages-buffer-mode 'normal)
             (evil-set-initial-state 'dashboard-mode 'normal))
#+end_src

#+begin_src emacs-lisp
(use-package evil-collection
             :after evil
             :config
             (evil-collection-init))
#+end_src

#+begin_src emacs-lisp
(use-package evil-tutor)
#+end_src

** Setup General Keybindings

#+begin_src emacs-lisp
(use-package general
             :config
             (general-create-definer mpbsd/leader-keys
                                     :keymaps '(normal insert visual emacs)
                                     :prefix "SPC"
                                     :global-prefix "C-SPC"))
#+end_src
