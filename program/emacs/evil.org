#+title:    GNU/Emacs Configuration
#+author:   Marcelo Bezerra
#+email:    bezerra@ufg.br
#+startup:  showeverything
#+property: header-args :tangle evil.el

* Setup a package manager

** Package management

*** Setup package repositories

#+begin_src elisp
  (require 'package)
  (add-to-list 'package-archives '("E" . "https://elpa.gnu.org/packages/") t)
  (add-to-list 'package-archives '("M" . "https://melpa.org/packages/") t)
  (add-to-list 'package-archives '("O" . "https://orgmode.org/packages/") t)
  (package-initialize)
  (unless package-archive-contents (package-refresh-contents))
#+end_src

*** Setup use-package

#+begin_src elisp
  (unless (package-installed-p 'use-package)
    (package-install 'use-package))
  (require 'use-package)
  (setq use-package-always-ensure t)
#+end_src

* Setup the UX

** Allows for GNU/Emacs to play nicely with tiling window managers

#+begin_src elisp
  (setq frame-resize-pixelwise t)
#+end_src

** Inhibit both the startup and scratch messages

#+begin_src elisp
  (setq inhibit-startup-message t)
  (setq initial-scratch-message nil)
#+end_src

** Disabling various things

#+begin_src elisp
  (menu-bar-mode -1)
  (scroll-bar-mode -1)
  (tool-bar-mode -1)
  (tooltip-mode -1)
#+end_src

** Display relative line numbers

#+begin_src elisp
  (setq display-line-numbers-type 'relative)
  (global-display-line-numbers-mode)
#+end_src

** Highlight the current line

#+begin_src elisp
  (global-hl-line-mode)
#+end_src

** Setup font faces

#+begin_src elisp
  (defvar +font-size-fixed 128)
  (defvar +font-size-variable 128)
  (set-face-attribute 'default nil
                      :family "JetBrainsMono Nerd Font Mono"
                      :height +font-size-fixed
                      :weight 'medium)
  (set-face-attribute 'fixed-pitch nil
                      :family "JetBrainsMono Nerd Font Mono"
                      :height +font-size-fixed
                      :weight 'medium)
  (set-face-attribute 'variable-pitch nil
                      :family "JetBrainsMono Nerd Font Mono"
                      :height +font-size-variable
                      :weight 'medium)
  (use-package default-text-scale
    :bind (("C-0" . default-text-scale-reset)
           ("C--" . default-text-scale-decrease)
           ("C-=" . default-text-scale-increase)))
#+end_src

** Setup a color scheme

#+begin_src elisp
  (use-package doom-themes
    :ensure t
    :custom
    (doom-themes-enable-bold t)
    (doom-themes-enable-italic t)
    (doom-themes-treemacs-theme "doom-solarized-dark")
    :config
    (load-theme 'doom-solarized-dark t)
    (doom-themes-visual-bell-config)
    (doom-themes-neotree-config)
    (doom-themes-treemacs-config)
    (doom-themes-org-config))
#+end_src

** Setup a modeline

#+begin_src elisp
  (use-package doom-modeline
    :ensure t
    :init (doom-modeline-mode 1))
#+end_src

** Setup spacious-mode

#+begin_src elisp
  (use-package spacious-padding
    :ensure t
    :config
    (setq spacious-padding-widths
  	'( :internal-border-width 15
  	   :header-line-width 4
  	   :mode-line-width 6
  	   :custom-button-width 3
  	   :tab-width 4
  	   :right-divider-width 30
  	   :scroll-bar-width 8
  	   :fringe-width 8))
  					; (spacious-padding-mode 1)
    (define-key global-map (kbd "<f8>") #'spacious-padding-mode))
#+end_src

** Setup org-bullets

#+begin_src elisp
  (use-package org-bullets)
  (add-hook 'org-mode-hook (lambda () (org-bullets-mode 1)))
#+end_src

* Inhibit backup files

#+begin_src elisp
  (setq make-backup-files nil)
#+end_src

* Setup keybindings

** Setup Evil Mode

#+begin_src elisp
  (use-package evil
    :init
    (setq evil-want-integration t)
    (setq evil-want-keybinding nil)
    (setq evil-want-C-u-scroll t)
    (setq evil-want-C-i-jump nil)
    :config
    (evil-mode 1)
    (define-key evil-insert-state-map (kbd "C-g") 'evil-normal-state)
    (define-key evil-insert-state-map (kbd "C-h") 'evil-delete-backward-char-and-join)
    (evil-global-set-key 'motion "j" 'evil-next-visual-line)
    (evil-global-set-key 'motion "k" 'evil-previous-visual-line)
    (evil-set-initial-state 'messages-buffer-mode 'normal)
    (evil-set-initial-state 'dashboard-mode 'normal))
#+end_src

#+begin_src elisp
  (use-package evil-collection
    :after evil
    :config
    (evil-collection-init))
#+end_src

#+begin_src elisp
  (use-package evil-tutor)
#+end_src

* Magit

#+begin_src elisp
  (use-package magit
    :ensure t)
#+end_src
